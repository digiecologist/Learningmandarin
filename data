// data.js

const phrases = [
    {
        mandarin: "ä½ å¥½",
        pinyin: "NÇ hÇo",
        english: "Hello / Hi",
        audio: "audio/nihao.mp3", // Path to audio file
        type: "greeting"
    },
    {
        mandarin: "è°¢è°¢",
        pinyin: "XiÃ¨xie",
        english: "Thank you",
        audio: "audio/xiexie.mp3",
        type: "gratitude"
    },
    {
        mandarin: "ä½ ä¼šè¯´è‹±è¯­å—ï¼Ÿ",
        pinyin: "NÇ huÃ¬ shuÅ YÄ«ngyÇ” ma?",
        english: "Do you speak English?",
        audio: "audio/ni-hui-shuo-yingyu-ma.mp3",
        type: "question",
        answerKeywords: ["ä¼š", "huÃ¬", "èƒ½", "nÃ©ng", "speak", "english", "yes"], // Keywords to match user's spoken answer
        correctAnswerExample: "æˆ‘ä¼šè¯´è‹±è¯­ã€‚", // Example for Chatter game
        answerRating: {
            "æˆ‘ä¼šè¯´è‹±è¯­ã€‚": 2, // Exact match
            "æˆ‘ä¼šè¯´ã€‚": 1, // Partial good match
            "yes, I speak english.": 1 // English answer
        }
    },
    // ... continue for all 50 phrases.
    // Ensure you have specific entries for questions with expected answers.
    // Example for "What would you like to drink?" (hypothetical, not in your 50)
    {
        mandarin: "ä½ æƒ³å–ä»€ä¹ˆï¼Ÿ",
        pinyin: "NÇ xiÇng hÄ“ shÃ©nme?",
        english: "What would you like to drink?",
        audio: "audio/ni-xiang-he-shenme.mp3",
        type: "question",
        answerKeywords: ["å’–å•¡", "kÄfÄ“i", "èŒ¶", "chÃ¡", "æ°´", "shuÇ", "å–", "hÄ“", "coffee", "tea", "water", "drink"],
        correctAnswerExample: "æˆ‘æƒ³è¦ä¸€æ¯å’–å•¡ã€‚",
        answerRating: {
             "æˆ‘æƒ³è¦ä¸€æ¯å’–å•¡ã€‚": 2,
             "ä¸€æ¯å’–å•¡ã€‚": 1,
             "Coffee please.": 1,
             "å’–å•¡ã€‚": 1
        }
    }
];

// Helper to get a random subset for games
function getRandomPhrases(count, type = null) {
    let filteredPhrases = type ? phrases.filter(p => p.type === type) : phrases;
    // Shuffle and pick `count` phrases
    return filteredPhrases.sort(() => 0.5 - Math.random()).slice(0, count);
}

// Map of animal scores for each game
const scoreAnimals = {
    rapidFire: [
        { score: 0, animal: "Frog" },
        { score: 1, animal: "Panda" }, // Scores 1-5
        { score: 6, animal: "Tiger" }, // Scores 6-10
        { score: 11, animal: "Eagle" }, // Scores 11-14
        { score: 15, animal: "Dragon" }
    ],
    chatter: [
        { score: 0, animal: "Frog" },
        { score: 1, animal: "Panda" }, // Scores 1-5
        { score: 6, animal: "Tiger" }, // Scores 6-10
        { score: 11, animal: "Eagle" }, // Scores 11-18 (corrected based on your ranges)
        { score: 19, animal: "Dragon" } // Scores 19-20 (corrected)
    ],
    parrot: [
        { score: 0, animal: "Frog" },
        { score: 1, animal: "Panda" }, // Scores 1-5
        { score: 6, animal: "Tiger" }, // Scores 6-10
        { score: 11, animal: "Eagle" }, // Scores 11-18 (corrected based on your ranges)
        { score: 19, animal: "Dragon" } // Scores 19-20 (corrected)
    ]
};

// Emojis for animations
const animalEmojis = {
    "Frog": "ğŸ¸",
    "Panda": "ğŸ¼",
    "Tiger": "ğŸ…",
    "Eagle": "ğŸ¦…",
    "Dragon": "ğŸ‰"
};
